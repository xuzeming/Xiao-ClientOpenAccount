<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Access-Control-Allow-Origin" content="*">
<title>身份验证</title>
<link rel="stylesheet" href="http://apps.bdimg.com/libs/bootstrap/3.3.4/css/bootstrap.min.css">
<script type="text/javascript" src="http://10.1.13.155:8080/Xiao-ClientOpenAccount/js/jquery-1.8.3.min.js"></script>
<script src="http://unpkg.com/vue/dist/vue.js"></script>
<script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
<link rel="stylesheet" href="http://10.1.13.155:8080/Xiao-ClientOpenAccount/js/jquery.datepick.css">
<script type="text/javascript" src="http://10.1.13.155:8080/Xiao-ClientOpenAccount/js/jquery.datepick.js"></script>
<script type="text/javascript">
	$(function(){
		/* 日期插件 */
		$("#userBirthday").datepick({dateFormat:"yy-mm-dd"});
	})
</script>

<style type="text/css">
#id1,#id2 {
	margin-top: 50px;
}


</style>
</head>
<body>
<div id="box">
	 <a :href="'bangDing.html?id=1'">点击</a>
	<div class="container">
		<div class="page-header">
			<div class="row">
				<div class="col-lg-2">
					<img alt="logo" src="img/logo.png"
						class="img-responsive">
				</div>
				<div class="col-lg-2">
					<h5 class="text-success">身份验证</h5>
				</div>
			</div>
		</div>
		<div class="body">
			<form action="http://10.1.13.155:8080/Xiao-ClientOpenAccount/saveIdentiFy.action" role="details" class="form-horizontal">
				<div class="form-group">
					<label class="col-lg-4 control-label">姓名</label>
					<div class="col-lg-4">
						<input name="userId" type="hidden" :value="userIdentification.userId">
						<input type="text" name="userName" :value="userIdentification.userName" placeholder="姓名"
							class="form-control" required oninvalid="setCustomValidity('请输入您的姓名');" oninput="setCustomValidity('');" >
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">身份证号</label>
					<div class="col-lg-4">
						<input type="text" id="identificationId" name="identificationId" :value="userIdentification.identificationId" placeholder="身份证号"
							class="form-control" pattern="(^\d{15}$)|(^\d{17}([0-9]|X|x)$)" required>
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">性别</label>
					<div class="col-lg-4">
						<input type="text" name="userSex" :value="userIdentification.userSex" placeholder="性别"
							class="form-control" required oninvalid="setCustomValidity('请输入您的性别 );" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">民族</label>
					<div class="col-lg-4">
						<input type="text" name="userNation" :value="userIdentification.userNation" placeholder="民族"
							class="form-control" required oninvalid="setCustomValidity('请输入您的民族');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">出生日期</label>
					<div class="col-lg-4">
						<input type="text" id="userBirthday" name="userBirthday" :value="userIdentification.userBirthday" placeholder="民族"
							class="form-control" required oninvalid="setCustomValidity('请输入您的出生日期);" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">证件地址</label>
					<div class="col-lg-4">
						<input type="text" name="userAddress" :value="userIdentification.userAddress"  placeholder="证件地址"
							class="form-control" required oninvalid="setCustomValidity('请填写证件地址);" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">签发机关</label>
					<div class="col-lg-4">
						<input type="text" name="signAgency" :value="userIdentification.signAgency"  placeholder="签发机关"
							class="form-control" required oninvalid="setCustomValidity('请填写输入机关');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">起始日期</label>
					<div class="col-lg-4">
						<input type="text" name="startTime" :value="userIdentification.startTime" placeholder="起始日期"
							class="form-control" required oninvalid="setCustomValidity('请填写输入起始日期');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">结束日期</label>
					<div class="col-lg-4">
						<input type="text" name="endTime" :value="userIdentification.endTime" placeholder="结束日期"
							class="form-control" required oninvalid="setCustomValidity('请填写输入结束日期');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div id="id1" class="form-group">
					<label class="col-lg-4 sr-only"></label>
					<div class="col-lg-8 col-lg-offset-4">
						<input type="checkbox" name="autoaddress" v-on:click="CheckItem"><span class="text-danger">勾选则自动填写联系地址，取消则撤销自动填写的联系地址</span>
					</div>	
				</div>
				<div class="form-group">
					<label class="col-lg-4 control-label">联系地址</label>
					<div class="col-lg-4">
						<input type="text" name="contactAddress" placeholder="联系地址" class="form-control" required oninvalid="setCustomValidity('请填写输入联系地址');" oninput="setCustomValidity('');" :value="domicile">
					</div>
				</div>	
				<div class="form-group">
					<label class="col-lg-4 control-label">邮编</label>
					<div class="col-lg-4">
						<input type="text" name="zipCode" placeholder="邮编"  class="form-control" required oninvalid="setCustomValidity('请填写输入邮政编号');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div id="id2" class="form-group">
					<label class="col-lg-3 control-label">行业</label>
					<div class="col-lg-3">
						<input type="text" name="userIndustry" placeholder="行业" class="form-control" required oninvalid="setCustomValidity('请填写输入行业');" oninput="setCustomValidity('');">
					</div>
					<label class="col-lg-1 control-label">职业</label>
					<div class="col-lg-3">
						<input type="text" name="userProfession" placeholder="职业" class="form-control" required oninvalid="setCustomValidity('请填写输入职业');" oninput="setCustomValidity('');">
					</div>
				</div>
				
				 <div class="form-group">
                    <label class="col-sm-3 control-label">学历:</label>
                    <div class="col-sm-3">
                        <select class="form-control" name="userEducation">
                           <option>请选择学历</option>
                           <option :value="edu.educationName" v-for="edu in education">{{edu.educationName}}</option>
                        </select>
                    </div>
                </div>
				
				<div class="form-group">
					<label class="col-lg-1 control-label">手机号</label>
					<div class="col-lg-3">
						<input type="text" id="telNum" name="telNum" placeholder="手机号" class="form-control" pattern="^((13[0-9])|(14[0-9])|(15[0-9])|(17[0-9])|(18[0-9]))\d{8}$" required>
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-3 control-label">账户受益人</label>
					<div class="col-lg-3">
						<input type="text" name="accountBeneficiary" placeholder="账户受益人" class="form-control" required oninvalid="setCustomValidity('请填写账户受益人');" oninput="setCustomValidity('');" >
					</div>
					<label class="col-lg-1 control-label">实际控制人</label>
					<div class="col-lg-3">
						<input type="text" name="accountController" placeholder="实际控制人" class="form-control" required oninvalid="setCustomValidity('请填写实际控制人');" oninput="setCustomValidity('');">
					</div>
				</div>
				<div class="form-group">
					<label class="col-lg-3 control-label">不良记录</label>
					<div class="col-lg-3">
						<input type="text" name="badRecord" placeholder="不良" class="form-control" required oninvalid="setCustomValidity('请填写不良记录');" oninput="setCustomValidity('');">
					</div>
					<label class="col-lg-1 control-label">纳税人居民身份证</label>
					<div class="col-lg-3">
						<input type="text" id="taxStatus" name="taxStatus" placeholder="纳税人居民身份证" class="form-control" pattern="(^\d{15}$)|(^\d{17}([0-9]|X|x)$)" required>
					</div>
				</div>
				<div class="form-group">
					<input type="submit" value="提交" class="btn btn-success col-lg-4 col-lg-offset-4">
				</div>
			</form>
		</div>
		<div class="page-bottom">
			<div class="row">
				<label class="col-lg-4 sr-only">尾部</label>
				<div class="col-lg-8 col-lg-offset-2">
					<p class="text-center">版权所有 @ 2019晓证券股份有限公司版权所有</p>
					<p class="text-center">All Rights Reserved @ 2019 Xiao Securities Co., Ltd. All Rights Reserved</p>
				</div>
			</div>
		</div>
	</div>
</div>
	<!-- 表单验证提示语 -->
	<script>
	/* 身份证验证  */
		identificationId.oninput=function(){
		identificationId.setCustomValidity("");
		};
		identificationId.oninvalid=function(){
			identificationId.setCustomValidity("请您输入正确的身份证号码");
		};
		telNum.oninput=function(){
			telNum.setCustomValidity("");
		};
		telNum.oninvalid=function(){
			telNum.setCustomValidity("请您输入正确的手机号格式");
		};
		taxStatus.oninput=function(){
			taxStatus.setCustomValidity("");
		};
		taxStatus.oninvalid=function(){
				taxStatus.setCustomValidity("请您输入正确的身份证号码");
		};
	</script>
	<script type="text/javascript">
            var vm = new Vue({
                el:'#box',
                data:{
                	userIdentification:{},
                	education:[],
                	domicile:""
                },
                methods:{
                    get:function(){
                        //发送get请求
                        this.$http.post("/Xiao-ClientOpenAccount/getJsonObject.action").then(function(result){
                        	this.userIdentification=result.data.userIdentification;
                        	console.log(this.userIdentification);
                        	this.education = result.data.education;
                        	 console.log(this.education);
                        },function(){
                            console.log('请求失败处理');
                        });
                    },
                    CheckItem:function(even){
                    	if(even.target.checked){
                    		this.domicile = this.userIdentification.userAddress;
                    	}else{
                    		this.domicile = ""; 
                    	}
                    },
                    
                   
                },
              	mounted(){
                    this.get();
             	},
	           watch: { 
	           	     pageSize:function(){
	           	    	 this.pageIndex=1;
	           	    	 this.get();
	           	     }
	           	  }, 
             	/* 计算url */
             	computed: {
   					 // 计算属性的 getter
   					 url: function () {
      				// `this` 指向 vm 实例
     				 return 'http://10.1.13.155:8080/Xiao-ClientOpenAccount/user/queryUser.action?pageIndex='+this.pageIndex+"&username="+this.username+"&pageSize="+this.pageSize
   				 }
 			 }
            });  
   </script>
</body>
</html>